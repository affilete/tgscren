# Quick Start Guide - Telegram Bot

## Для владельца бота (User ID: 8329204739)

### Запуск бота

```bash
python3 main.py
```

Или с указанием chat_id:
```bash
python3 main.py --chat_id "-1001234567890"
```

### Основные команды

- `/start` - Открыть главное меню
- `/menu` - Открыть главное меню (альтернатива)

### Структура меню

```
Главное меню
├─ Включить/Выключить алерты (переключатель)
├─ Настройки
│  ├─ Глобальные настройки
│  │  ├─ Изменить min размер
│  │  └─ Изменить расстояние %
│  ├─ По биржам
│  │  ├─ Hyperliquid
│  │  ├─ KuCoin
│  │  ├─ BingX
│  │  ├─ AsterDex
│  │  └─ Lither
│  ├─ Индивидуальные по тикерам
│  │  ├─ Добавить/изменить тикер
│  │  └─ Удалить тикер
│  └─ Чёрный список
│     ├─ Добавить тикер
│     ├─ Удалить тикер
│     └─ Очистить список
└─ Текущие настройки
```

### Форматы ввода

#### Добавление тикера
Формат: `TICKER MIN_SIZE`

Примеры:
- `BTC 50000000` - установить min размер для BTC = 50,000,000 USDT
- `ETH 10000000` - установить min размер для ETH = 10,000,000 USDT

#### Добавление в чёрный список
Формат: просто название тикера

Примеры:
- `AVAX`
- `DOGE`
- `USDT`

#### Числовые значения
- Min размер: целые числа в USDT (например: `1000000` = 1M USDT)
- Расстояние: дробные числа в % (например: `3.5` = 3.5%)

### Иерархия настроек

Система использует иерархию (от более специфичного к общему):

1. **Для тикера**: Индивидуальные настройки тикера
2. **Для биржи**: Настройки конкретной биржи
3. **Глобальные**: Общие настройки

Пример:
- Глобальный min размер = 1,000,000 USDT
- KuCoin min размер = 500,000 USDT
- BTC min размер = 50,000,000 USDT

При сканировании:
- BTC на любой бирже использует 50,000,000
- Любой тикер на KuCoin использует 500,000
- Все остальные используют 1,000,000

### Важные функции

#### Сброс настроек биржи
Кнопка "Сбросить на глобальные" удаляет все настройки биржи и возвращает использование глобальных значений.

#### Очистка чёрного списка
Кнопка "Очистить список" удаляет все тикеры из чёрного списка одним кликом.

#### Просмотр текущих настроек
Показывает:
- Статус алертов
- Глобальные настройки
- Настройки всех 5 бирж (с отображением глобальных или кастомных значений)
- Все индивидуальные тикеры
- Весь чёрный список

### Особенности интерфейса

1. **Одно сообщение**: Все меню обновляются в одном сообщении, не создают новые
2. **Динамические кнопки**: Кнопки удаления появляются только когда есть что удалять
3. **Текущие значения**: При изменении настроек показываются текущие значения
4. **Мгновенное сохранение**: Все изменения сохраняются сразу в `settings.json`
5. **Синхронизация со сканером**: Изменения сразу влияют на работу сканера

### Безопасность

- Только ваш user_id (8329204739) может взаимодействовать с ботом
- Все остальные получают сообщение "⛔ Доступ запрещён"

### Файлы

- `settings.json` - Все настройки бота и сканера
- `scanner.log` - Логи работы сканера и бота
- `bot.py` - Код бота
- `settings_manager.py` - Управление настройками
- `scanner.py` - Код сканера

### Проверка работы

После запуска:
1. Отправьте `/start` боту в Telegram
2. Должно появиться главное меню
3. Проверьте текущие настройки
4. При необходимости измените настройки
5. Включите алерты

### Troubleshooting

**Бот не отвечает:**
- Проверьте, что процесс запущен
- Проверьте логи в `scanner.log`
- Убедитесь что используете правильный user_id

**Настройки не сохраняются:**
- Проверьте права на запись в `settings.json`
- Проверьте логи на ошибки

**Алерты не приходят:**
- Убедитесь что алерты включены (зелёный статус в главном меню)
- Проверьте правильность chat_id
- Проверьте работу сканера в логах
